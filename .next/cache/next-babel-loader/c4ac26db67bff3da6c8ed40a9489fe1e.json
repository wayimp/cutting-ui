{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/keith/cutting-ui/components/TopBar.js\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useEffect } from 'react';\nimport axiosClient from '../src/axiosClient';\nimport Router from 'next/router';\nimport { connect } from 'react-redux';\nimport AppBar from '@material-ui/core/AppBar';\nimport Button from '@material-ui/core/Button';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Badge from '@material-ui/core/Badge';\nimport IconButton from '@material-ui/core/IconButton';\nimport InputBase from '@material-ui/core/InputBase';\nimport Typography from '@material-ui/core/Typography';\nimport { fade, makeStyles, useTheme } from '@material-ui/core/styles';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport SearchIcon from '@material-ui/icons/Search';\nimport ShoppingBasketIcon from '@material-ui/icons/ShoppingBasket';\nimport clsx from 'clsx';\nimport Drawer from '@material-ui/core/Drawer';\nimport List from '@material-ui/core/List';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Divider from '@material-ui/core/Divider';\nimport ChevronLeftIcon from '@material-ui/icons/ChevronLeft';\nimport ChevronRightIcon from '@material-ui/icons/ChevronRight';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Link from '../src/Link';\nimport StorefrontIcon from '@material-ui/icons/Storefront';\nimport LocalFloristIcon from '@material-ui/icons/LocalFlorist';\nimport RedeemIcon from '@material-ui/icons/Redeem';\nimport PersonIcon from '@material-ui/icons/Person';\nimport LangSwitcher, { Lang, getLangString } from './Lang';\nimport cookie from 'js-cookie';\nimport AssignmentTurnedInIcon from '@material-ui/icons/AssignmentTurnedIn';\nimport LocalOfferIcon from '@material-ui/icons/LocalOffer';\nvar drawerWidth = 240;\nvar useStyles = makeStyles(function (theme) {\n  var _ref;\n\n  return _ref = {\n    root: {\n      display: 'flex'\n    },\n    appBar: {\n      zIndex: theme.zIndex.drawer + 1,\n      transition: theme.transitions.create(['width', 'margin'], {\n        easing: theme.transitions.easing.sharp,\n        duration: theme.transitions.duration.leavingScreen\n      })\n    },\n    appBarShift: {\n      marginLeft: drawerWidth,\n      width: \"calc(100% - \".concat(drawerWidth, \"px)\"),\n      transition: theme.transitions.create(['width', 'margin'], {\n        easing: theme.transitions.easing.sharp,\n        duration: theme.transitions.duration.enteringScreen\n      })\n    },\n    topButton: {\n      marginTop: theme.spacing(6)\n    },\n    menuButton: {\n      marginRight: 36\n    },\n    hide: {\n      display: 'none'\n    },\n    drawer: {\n      width: drawerWidth,\n      flexShrink: 0,\n      whiteSpace: 'nowrap'\n    },\n    drawerOpen: {\n      width: drawerWidth,\n      transition: theme.transitions.create('width', {\n        easing: theme.transitions.easing.sharp,\n        duration: theme.transitions.duration.enteringScreen\n      })\n    },\n    drawerClose: _defineProperty({\n      transition: theme.transitions.create('width', {\n        easing: theme.transitions.easing.sharp,\n        duration: theme.transitions.duration.leavingScreen\n      }),\n      overflowX: 'hidden',\n      width: theme.spacing(7) + 1\n    }, theme.breakpoints.up('sm'), {\n      width: theme.spacing(9) + 1\n    }),\n    toolbar: _objectSpread({\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'flex-end',\n      padding: theme.spacing(0, 1)\n    }, theme.mixins.toolbar),\n    content: {\n      flexGrow: 1,\n      padding: theme.spacing(3)\n    }\n  }, _defineProperty(_ref, \"menuButton\", {\n    marginRight: theme.spacing(2)\n  }), _defineProperty(_ref, \"title\", _defineProperty({\n    flexGrow: 1\n  }, theme.breakpoints.up('sm'), {\n    display: 'block'\n  })), _defineProperty(_ref, \"search\", _defineProperty({\n    position: 'relative',\n    borderRadius: theme.shape.borderRadius,\n    backgroundColor: fade(theme.palette.common.white, 0.15),\n    '&:hover': {\n      backgroundColor: fade(theme.palette.common.white, 0.25)\n    },\n    marginLeft: 0,\n    width: '100%'\n  }, theme.breakpoints.up('sm'), {\n    marginLeft: theme.spacing(1),\n    width: 'auto'\n  })), _defineProperty(_ref, \"searchIcon\", {\n    padding: theme.spacing(0, 2),\n    height: '100%',\n    position: 'absolute',\n    pointerEvents: 'none',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center'\n  }), _defineProperty(_ref, \"inputRoot\", {\n    color: 'inherit'\n  }), _defineProperty(_ref, \"inputInput\", _defineProperty({\n    padding: theme.spacing(1, 1, 1, 0),\n    // vertical padding + font size from searchIcon\n    paddingLeft: \"calc(1em + \".concat(theme.spacing(4), \"px)\"),\n    transition: theme.transitions.create('width'),\n    width: '100%'\n  }, theme.breakpoints.up('sm'), {\n    width: '12ch',\n    '&:focus': {\n      width: '20ch'\n    }\n  })), _ref;\n});\n\nvar fetchSegments = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n    var response, psegments;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return axiosClient.get('/bsettings/productSegments');\n\n          case 2:\n            response = _context.sent;\n            _context.next = 5;\n            return response.data[0].value;\n\n          case 5:\n            psegments = _context.sent;\n            return _context.abrupt(\"return\", psegments);\n\n          case 7:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function fetchSegments() {\n    return _ref2.apply(this, arguments);\n  };\n}();\n\nvar fetchVendors = /*#__PURE__*/function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n    var bvendors, response, results;\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            bvendors = [];\n            _context2.next = 3;\n            return axiosClient.get('/bvendors');\n\n          case 3:\n            response = _context2.sent;\n            _context2.next = 6;\n            return response.data;\n\n          case 6:\n            results = _context2.sent;\n\n            if (results && Array.isArray(results) && results.length > 0) {\n              bvendors = results.sort(function (a, b) {\n                var sortA = a.sortOrder ? a.sortOrder : 100,\n                    sortB = b.sortOrder ? b.sortOrder : 100;\n                return sortA - sortB;\n              });\n            }\n\n            return _context2.abrupt(\"return\", bvendors);\n\n          case 9:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n\n  return function fetchVendors() {\n    return _ref3.apply(this, arguments);\n  };\n}();\n\nvar SearchAppBar = function SearchAppBar(_ref4) {\n  _s();\n\n  var _clsx3, _clsx4;\n\n  var dispatch = _ref4.dispatch,\n      lang = _ref4.lang,\n      segment = _ref4.segment,\n      psegments = _ref4.psegments,\n      psegmentsFetched = _ref4.psegmentsFetched,\n      bvendorsFetched = _ref4.bvendorsFetched;\n  var classes = useStyles();\n  var theme = useTheme();\n\n  var _React$useState = React.useState(false),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      open = _React$useState2[0],\n      setOpen = _React$useState2[1];\n\n  var _React$useState3 = React.useState(segment),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      selectedSegment = _React$useState4[0],\n      setSelectedSegment = _React$useState4[1];\n\n  var ordersIsSelected = selectedSegment === 'orders' ? true : false;\n  var productsIsSelected = selectedSegment === 'products' ? true : false;\n\n  if (!psegmentsFetched) {\n    fetchSegments().then(function (psegments) {\n      return dispatch({\n        type: 'PSEGMENTS',\n        payload: psegments\n      });\n    });\n  }\n\n  if (!bvendorsFetched) {\n    fetchVendors().then(function (bvendors) {\n      return dispatch({\n        type: 'BVENDORS',\n        payload: bvendors\n      });\n    });\n  }\n\n  useEffect(function () {\n    if (psegments && Array.isArray(psegments) && psegments.length) {} else {\n      fetchSegments().then(function (response) {\n        var results = response.data[0].value;\n\n        if (results && Array.isArray(results) && results.length > 0) {\n          dispatch({\n            type: 'PSEGMENTS',\n            payload: results\n          });\n        }\n      })[\"catch\"](function (error) {\n        console.warn(JSON.stringify(error, null, 2));\n      });\n    }\n  }, []);\n\n  var handleDrawerOpen = function handleDrawerOpen() {\n    setOpen(true);\n  };\n\n  var handleDrawerClose = function handleDrawerClose() {\n    setOpen(false);\n  };\n\n  var selectSegment = function selectSegment(segmentName) {\n    setSelectedSegment(segmentName);\n    dispatch({\n      type: 'SEGMENT',\n      payload: segmentName\n    });\n    Router.push(\"/\".concat(segmentName));\n  };\n\n  return __jsx(\"div\", {\n    className: classes.root,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 5\n    }\n  }, __jsx(CssBaseline, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 7\n    }\n  }), __jsx(AppBar, {\n    position: \"fixed\",\n    className: clsx(classes.appBar, _defineProperty({}, classes.appBarShift, open)),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 7\n    }\n  }, __jsx(Toolbar, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 9\n    }\n  }, __jsx(IconButton, {\n    color: \"inherit\",\n    onClick: handleDrawerOpen,\n    edge: \"start\",\n    className: clsx(classes.menuButton, _defineProperty({}, classes.hide, open)),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 11\n    }\n  }, __jsx(MenuIcon, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 247,\n      columnNumber: 13\n    }\n  })), __jsx(Link, {\n    href: \"/\",\n    className: classes.title,\n    onClick: cookie.remove('token'),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 250,\n      columnNumber: 11\n    }\n  }, __jsx(\"img\", {\n    src: \"/images/cutting-logo-small.png\",\n    alt: \"Valley Cutting Systems\",\n    style: {\n      marginTop: 6\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 13\n    }\n  })), __jsx(LangSwitcher, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 276,\n      columnNumber: 11\n    }\n  }))), __jsx(Drawer, {\n    variant: \"permanent\",\n    className: clsx(classes.drawer, (_clsx3 = {}, _defineProperty(_clsx3, classes.drawerOpen, open), _defineProperty(_clsx3, classes.drawerClose, !open), _clsx3)),\n    classes: {\n      paper: clsx((_clsx4 = {}, _defineProperty(_clsx4, classes.drawerOpen, open), _defineProperty(_clsx4, classes.drawerClose, !open), _clsx4))\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 280,\n      columnNumber: 7\n    }\n  }, __jsx(\"div\", {\n    className: classes.toolbar,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 293,\n      columnNumber: 9\n    }\n  }, __jsx(IconButton, {\n    onClick: handleDrawerClose,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 294,\n      columnNumber: 11\n    }\n  }, __jsx(ChevronLeftIcon, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 295,\n      columnNumber: 13\n    }\n  }))), __jsx(Divider, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 298,\n      columnNumber: 9\n    }\n  }), __jsx(List, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 299,\n      columnNumber: 9\n    }\n  }, __jsx(ListItem, {\n    button: true,\n    selected: ordersIsSelected,\n    key: 'orders',\n    className: classes.topButton,\n    onClick: function onClick() {\n      return selectSegment('orders');\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 300,\n      columnNumber: 11\n    }\n  }, __jsx(ListItemIcon, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 307,\n      columnNumber: 13\n    }\n  }, __jsx(AssignmentTurnedInIcon, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 308,\n      columnNumber: 15\n    }\n  })), __jsx(ListItemText, {\n    primary: getLangString('menu.orders', lang),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 310,\n      columnNumber: 13\n    }\n  })), __jsx(ListItem, {\n    button: true,\n    selected: productsIsSelected,\n    key: 'products',\n    onClick: function onClick() {\n      return selectSegment('products');\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 312,\n      columnNumber: 11\n    }\n  }, __jsx(ListItemIcon, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 318,\n      columnNumber: 13\n    }\n  }, __jsx(LocalOfferIcon, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 319,\n      columnNumber: 15\n    }\n  })), __jsx(ListItemText, {\n    primary: getLangString('menu.products', lang),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 321,\n      columnNumber: 13\n    }\n  })))));\n};\n\n_s(SearchAppBar, \"avTqavclrXwNYEGXopsD1CcSbTs=\", false, function () {\n  return [useStyles, useTheme];\n});\n\n_c = SearchAppBar;\nexport default connect(function (state) {\n  return state;\n})(SearchAppBar);\n\nvar _c;\n\n$RefreshReg$(_c, \"SearchAppBar\");","map":{"version":3,"sources":["/Users/keith/cutting-ui/components/TopBar.js"],"names":["React","useEffect","axiosClient","Router","connect","AppBar","Button","Toolbar","Badge","IconButton","InputBase","Typography","fade","makeStyles","useTheme","MenuIcon","SearchIcon","ShoppingBasketIcon","clsx","Drawer","List","CssBaseline","Divider","ChevronLeftIcon","ChevronRightIcon","ListItem","ListItemIcon","ListItemText","Link","StorefrontIcon","LocalFloristIcon","RedeemIcon","PersonIcon","LangSwitcher","Lang","getLangString","cookie","AssignmentTurnedInIcon","LocalOfferIcon","drawerWidth","useStyles","theme","root","display","appBar","zIndex","drawer","transition","transitions","create","easing","sharp","duration","leavingScreen","appBarShift","marginLeft","width","enteringScreen","topButton","marginTop","spacing","menuButton","marginRight","hide","flexShrink","whiteSpace","drawerOpen","drawerClose","overflowX","breakpoints","up","toolbar","alignItems","justifyContent","padding","mixins","content","flexGrow","position","borderRadius","shape","backgroundColor","palette","common","white","height","pointerEvents","color","paddingLeft","fetchSegments","get","response","data","value","psegments","fetchVendors","bvendors","results","Array","isArray","length","sort","a","b","sortA","sortOrder","sortB","SearchAppBar","dispatch","lang","segment","psegmentsFetched","bvendorsFetched","classes","useState","open","setOpen","selectedSegment","setSelectedSegment","ordersIsSelected","productsIsSelected","then","type","payload","error","console","warn","JSON","stringify","handleDrawerOpen","handleDrawerClose","selectSegment","segmentName","push","title","remove","paper","state"],"mappings":";;;;;;;;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,WAAP,MAAwB,oBAAxB;AACA,OAAOC,MAAP,MAAmB,aAAnB;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,OAAOC,OAAP,MAAoB,2BAApB;AACA,OAAOC,KAAP,MAAkB,yBAAlB;AACA,OAAOC,UAAP,MAAuB,8BAAvB;AACA,OAAOC,SAAP,MAAsB,6BAAtB;AACA,OAAOC,UAAP,MAAuB,8BAAvB;AACA,SAASC,IAAT,EAAeC,UAAf,EAA2BC,QAA3B,QAA2C,0BAA3C;AACA,OAAOC,QAAP,MAAqB,yBAArB;AACA,OAAOC,UAAP,MAAuB,2BAAvB;AACA,OAAOC,kBAAP,MAA+B,mCAA/B;AACA,OAAOC,IAAP,MAAiB,MAAjB;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,OAAOC,IAAP,MAAiB,wBAAjB;AACA,OAAOC,WAAP,MAAwB,+BAAxB;AACA,OAAOC,OAAP,MAAoB,2BAApB;AACA,OAAOC,eAAP,MAA4B,gCAA5B;AACA,OAAOC,gBAAP,MAA6B,iCAA7B;AACA,OAAOC,QAAP,MAAqB,4BAArB;AACA,OAAOC,YAAP,MAAyB,gCAAzB;AACA,OAAOC,YAAP,MAAyB,gCAAzB;AACA,OAAOC,IAAP,MAAiB,aAAjB;AACA,OAAOC,cAAP,MAA2B,+BAA3B;AACA,OAAOC,gBAAP,MAA6B,iCAA7B;AACA,OAAOC,UAAP,MAAuB,2BAAvB;AACA,OAAOC,UAAP,MAAuB,2BAAvB;AACA,OAAOC,YAAP,IAAuBC,IAAvB,EAA6BC,aAA7B,QAAkD,QAAlD;AACA,OAAOC,MAAP,MAAmB,WAAnB;AACA,OAAOC,sBAAP,MAAmC,uCAAnC;AACA,OAAOC,cAAP,MAA2B,+BAA3B;AAEA,IAAMC,WAAW,GAAG,GAApB;AAEA,IAAMC,SAAS,GAAG3B,UAAU,CAAC,UAAA4B,KAAK;AAAA;;AAAA;AAChCC,IAAAA,IAAI,EAAE;AACJC,MAAAA,OAAO,EAAE;AADL,KAD0B;AAIhCC,IAAAA,MAAM,EAAE;AACNC,MAAAA,MAAM,EAAEJ,KAAK,CAACI,MAAN,CAAaC,MAAb,GAAsB,CADxB;AAENC,MAAAA,UAAU,EAAEN,KAAK,CAACO,WAAN,CAAkBC,MAAlB,CAAyB,CAAC,OAAD,EAAU,QAAV,CAAzB,EAA8C;AACxDC,QAAAA,MAAM,EAAET,KAAK,CAACO,WAAN,CAAkBE,MAAlB,CAAyBC,KADuB;AAExDC,QAAAA,QAAQ,EAAEX,KAAK,CAACO,WAAN,CAAkBI,QAAlB,CAA2BC;AAFmB,OAA9C;AAFN,KAJwB;AAWhCC,IAAAA,WAAW,EAAE;AACXC,MAAAA,UAAU,EAAEhB,WADD;AAEXiB,MAAAA,KAAK,wBAAiBjB,WAAjB,QAFM;AAGXQ,MAAAA,UAAU,EAAEN,KAAK,CAACO,WAAN,CAAkBC,MAAlB,CAAyB,CAAC,OAAD,EAAU,QAAV,CAAzB,EAA8C;AACxDC,QAAAA,MAAM,EAAET,KAAK,CAACO,WAAN,CAAkBE,MAAlB,CAAyBC,KADuB;AAExDC,QAAAA,QAAQ,EAAEX,KAAK,CAACO,WAAN,CAAkBI,QAAlB,CAA2BK;AAFmB,OAA9C;AAHD,KAXmB;AAmBhCC,IAAAA,SAAS,EAAE;AACTC,MAAAA,SAAS,EAAElB,KAAK,CAACmB,OAAN,CAAc,CAAd;AADF,KAnBqB;AAsBhCC,IAAAA,UAAU,EAAE;AACVC,MAAAA,WAAW,EAAE;AADH,KAtBoB;AAyBhCC,IAAAA,IAAI,EAAE;AACJpB,MAAAA,OAAO,EAAE;AADL,KAzB0B;AA4BhCG,IAAAA,MAAM,EAAE;AACNU,MAAAA,KAAK,EAAEjB,WADD;AAENyB,MAAAA,UAAU,EAAE,CAFN;AAGNC,MAAAA,UAAU,EAAE;AAHN,KA5BwB;AAiChCC,IAAAA,UAAU,EAAE;AACVV,MAAAA,KAAK,EAAEjB,WADG;AAEVQ,MAAAA,UAAU,EAAEN,KAAK,CAACO,WAAN,CAAkBC,MAAlB,CAAyB,OAAzB,EAAkC;AAC5CC,QAAAA,MAAM,EAAET,KAAK,CAACO,WAAN,CAAkBE,MAAlB,CAAyBC,KADW;AAE5CC,QAAAA,QAAQ,EAAEX,KAAK,CAACO,WAAN,CAAkBI,QAAlB,CAA2BK;AAFO,OAAlC;AAFF,KAjCoB;AAwChCU,IAAAA,WAAW;AACTpB,MAAAA,UAAU,EAAEN,KAAK,CAACO,WAAN,CAAkBC,MAAlB,CAAyB,OAAzB,EAAkC;AAC5CC,QAAAA,MAAM,EAAET,KAAK,CAACO,WAAN,CAAkBE,MAAlB,CAAyBC,KADW;AAE5CC,QAAAA,QAAQ,EAAEX,KAAK,CAACO,WAAN,CAAkBI,QAAlB,CAA2BC;AAFO,OAAlC,CADH;AAKTe,MAAAA,SAAS,EAAE,QALF;AAMTZ,MAAAA,KAAK,EAAEf,KAAK,CAACmB,OAAN,CAAc,CAAd,IAAmB;AANjB,OAORnB,KAAK,CAAC4B,WAAN,CAAkBC,EAAlB,CAAqB,IAArB,CAPQ,EAOqB;AAC5Bd,MAAAA,KAAK,EAAEf,KAAK,CAACmB,OAAN,CAAc,CAAd,IAAmB;AADE,KAPrB,CAxCqB;AAmDhCW,IAAAA,OAAO;AACL5B,MAAAA,OAAO,EAAE,MADJ;AAEL6B,MAAAA,UAAU,EAAE,QAFP;AAGLC,MAAAA,cAAc,EAAE,UAHX;AAILC,MAAAA,OAAO,EAAEjC,KAAK,CAACmB,OAAN,CAAc,CAAd,EAAiB,CAAjB;AAJJ,OAMFnB,KAAK,CAACkC,MAAN,CAAaJ,OANX,CAnDyB;AA2DhCK,IAAAA,OAAO,EAAE;AACPC,MAAAA,QAAQ,EAAE,CADH;AAEPH,MAAAA,OAAO,EAAEjC,KAAK,CAACmB,OAAN,CAAc,CAAd;AAFF;AA3DuB,yCA+DpB;AACVE,IAAAA,WAAW,EAAErB,KAAK,CAACmB,OAAN,CAAc,CAAd;AADH,GA/DoB;AAmE9BiB,IAAAA,QAAQ,EAAE;AAnEoB,KAoE7BpC,KAAK,CAAC4B,WAAN,CAAkBC,EAAlB,CAAqB,IAArB,CApE6B,EAoEA;AAC5B3B,IAAAA,OAAO,EAAE;AADmB,GApEA;AAyE9BmC,IAAAA,QAAQ,EAAE,UAzEoB;AA0E9BC,IAAAA,YAAY,EAAEtC,KAAK,CAACuC,KAAN,CAAYD,YA1EI;AA2E9BE,IAAAA,eAAe,EAAErE,IAAI,CAAC6B,KAAK,CAACyC,OAAN,CAAcC,MAAd,CAAqBC,KAAtB,EAA6B,IAA7B,CA3ES;AA4E9B,eAAW;AACTH,MAAAA,eAAe,EAAErE,IAAI,CAAC6B,KAAK,CAACyC,OAAN,CAAcC,MAAd,CAAqBC,KAAtB,EAA6B,IAA7B;AADZ,KA5EmB;AA+E9B7B,IAAAA,UAAU,EAAE,CA/EkB;AAgF9BC,IAAAA,KAAK,EAAE;AAhFuB,KAiF7Bf,KAAK,CAAC4B,WAAN,CAAkBC,EAAlB,CAAqB,IAArB,CAjF6B,EAiFA;AAC5Bf,IAAAA,UAAU,EAAEd,KAAK,CAACmB,OAAN,CAAc,CAAd,CADgB;AAE5BJ,IAAAA,KAAK,EAAE;AAFqB,GAjFA,wCAsFpB;AACVkB,IAAAA,OAAO,EAAEjC,KAAK,CAACmB,OAAN,CAAc,CAAd,EAAiB,CAAjB,CADC;AAEVyB,IAAAA,MAAM,EAAE,MAFE;AAGVP,IAAAA,QAAQ,EAAE,UAHA;AAIVQ,IAAAA,aAAa,EAAE,MAJL;AAKV3C,IAAAA,OAAO,EAAE,MALC;AAMV6B,IAAAA,UAAU,EAAE,QANF;AAOVC,IAAAA,cAAc,EAAE;AAPN,GAtFoB,sCA+FrB;AACTc,IAAAA,KAAK,EAAE;AADE,GA/FqB;AAmG9Bb,IAAAA,OAAO,EAAEjC,KAAK,CAACmB,OAAN,CAAc,CAAd,EAAiB,CAAjB,EAAoB,CAApB,EAAuB,CAAvB,CAnGqB;AAoG9B;AACA4B,IAAAA,WAAW,uBAAgB/C,KAAK,CAACmB,OAAN,CAAc,CAAd,CAAhB,QArGmB;AAsG9Bb,IAAAA,UAAU,EAAEN,KAAK,CAACO,WAAN,CAAkBC,MAAlB,CAAyB,OAAzB,CAtGkB;AAuG9BO,IAAAA,KAAK,EAAE;AAvGuB,KAwG7Bf,KAAK,CAAC4B,WAAN,CAAkBC,EAAlB,CAAqB,IAArB,CAxG6B,EAwGA;AAC5Bd,IAAAA,KAAK,EAAE,MADqB;AAE5B,eAAW;AACTA,MAAAA,KAAK,EAAE;AADE;AAFiB,GAxGA;AAAA,CAAN,CAA5B;;AAiHA,IAAMiC,aAAa;AAAA,uEAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACGvF,WAAW,CAACwF,GAAZ,CAAgB,4BAAhB,CADH;;AAAA;AACdC,YAAAA,QADc;AAAA;AAAA,mBAEIA,QAAQ,CAACC,IAAT,CAAc,CAAd,EAAiBC,KAFrB;;AAAA;AAEdC,YAAAA,SAFc;AAAA,6CAGbA,SAHa;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAAbL,aAAa;AAAA;AAAA;AAAA,GAAnB;;AAMA,IAAMM,YAAY;AAAA,uEAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AACfC,YAAAA,QADe,GACJ,EADI;AAAA;AAAA,mBAEI9F,WAAW,CAACwF,GAAZ,CAAgB,WAAhB,CAFJ;;AAAA;AAEbC,YAAAA,QAFa;AAAA;AAAA,mBAGGA,QAAQ,CAACC,IAHZ;;AAAA;AAGbK,YAAAA,OAHa;;AAInB,gBAAIA,OAAO,IAAIC,KAAK,CAACC,OAAN,CAAcF,OAAd,CAAX,IAAqCA,OAAO,CAACG,MAAR,GAAiB,CAA1D,EAA6D;AAC3DJ,cAAAA,QAAQ,GAAGC,OAAO,CAACI,IAAR,CAAa,UAAUC,CAAV,EAAaC,CAAb,EAAgB;AACtC,oBAAMC,KAAK,GAAGF,CAAC,CAACG,SAAF,GAAcH,CAAC,CAACG,SAAhB,GAA4B,GAA1C;AAAA,oBACEC,KAAK,GAAGH,CAAC,CAACE,SAAF,GAAcF,CAAC,CAACE,SAAhB,GAA4B,GADtC;AAEA,uBAAOD,KAAK,GAAGE,KAAf;AACD,eAJU,CAAX;AAKD;;AAVkB,8CAWZV,QAXY;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAAZD,YAAY;AAAA;AAAA;AAAA,GAAlB;;AAcA,IAAMY,YAAY,GAAG,SAAfA,YAAe,QAOf;AAAA;;AAAA;;AAAA,MANJC,QAMI,SANJA,QAMI;AAAA,MALJC,IAKI,SALJA,IAKI;AAAA,MAJJC,OAII,SAJJA,OAII;AAAA,MAHJhB,SAGI,SAHJA,SAGI;AAAA,MAFJiB,gBAEI,SAFJA,gBAEI;AAAA,MADJC,eACI,SADJA,eACI;AACJ,MAAMC,OAAO,GAAGzE,SAAS,EAAzB;AACA,MAAMC,KAAK,GAAG3B,QAAQ,EAAtB;;AAFI,wBAGoBd,KAAK,CAACkH,QAAN,CAAe,KAAf,CAHpB;AAAA;AAAA,MAGGC,IAHH;AAAA,MAGSC,OAHT;;AAAA,yBAI0CpH,KAAK,CAACkH,QAAN,CAAeJ,OAAf,CAJ1C;AAAA;AAAA,MAIGO,eAJH;AAAA,MAIoBC,kBAJpB;;AAMJ,MAAMC,gBAAgB,GAAGF,eAAe,KAAK,QAApB,GAA+B,IAA/B,GAAsC,KAA/D;AACA,MAAMG,kBAAkB,GAAGH,eAAe,KAAK,UAApB,GAAiC,IAAjC,GAAwC,KAAnE;;AAEA,MAAI,CAACN,gBAAL,EAAuB;AACrBtB,IAAAA,aAAa,GAAGgC,IAAhB,CAAqB,UAAA3B,SAAS;AAAA,aAC5Bc,QAAQ,CAAC;AAAEc,QAAAA,IAAI,EAAE,WAAR;AAAqBC,QAAAA,OAAO,EAAE7B;AAA9B,OAAD,CADoB;AAAA,KAA9B;AAGD;;AAED,MAAI,CAACkB,eAAL,EAAsB;AACpBjB,IAAAA,YAAY,GAAG0B,IAAf,CAAoB,UAAAzB,QAAQ;AAAA,aAC1BY,QAAQ,CAAC;AAAEc,QAAAA,IAAI,EAAE,UAAR;AAAoBC,QAAAA,OAAO,EAAE3B;AAA7B,OAAD,CADkB;AAAA,KAA5B;AAGD;;AAED/F,EAAAA,SAAS,CAAC,YAAM;AACd,QAAI6F,SAAS,IAAII,KAAK,CAACC,OAAN,CAAcL,SAAd,CAAb,IAAyCA,SAAS,CAACM,MAAvD,EAA+D,CAC9D,CADD,MACO;AACLX,MAAAA,aAAa,GACVgC,IADH,CACQ,UAAA9B,QAAQ,EAAI;AAChB,YAAMM,OAAO,GAAGN,QAAQ,CAACC,IAAT,CAAc,CAAd,EAAiBC,KAAjC;;AACA,YAAII,OAAO,IAAIC,KAAK,CAACC,OAAN,CAAcF,OAAd,CAAX,IAAqCA,OAAO,CAACG,MAAR,GAAiB,CAA1D,EAA6D;AAC3DQ,UAAAA,QAAQ,CAAC;AAAEc,YAAAA,IAAI,EAAE,WAAR;AAAqBC,YAAAA,OAAO,EAAE1B;AAA9B,WAAD,CAAR;AACD;AACF,OANH,WAOS,UAAA2B,KAAK,EAAI;AACdC,QAAAA,OAAO,CAACC,IAAR,CAAaC,IAAI,CAACC,SAAL,CAAeJ,KAAf,EAAsB,IAAtB,EAA4B,CAA5B,CAAb;AACD,OATH;AAUD;AACF,GAdQ,EAcN,EAdM,CAAT;;AAgBA,MAAMK,gBAAgB,GAAG,SAAnBA,gBAAmB,GAAM;AAC7Bb,IAAAA,OAAO,CAAC,IAAD,CAAP;AACD,GAFD;;AAIA,MAAMc,iBAAiB,GAAG,SAApBA,iBAAoB,GAAM;AAC9Bd,IAAAA,OAAO,CAAC,KAAD,CAAP;AACD,GAFD;;AAIA,MAAMe,aAAa,GAAG,SAAhBA,aAAgB,CAAAC,WAAW,EAAI;AACnCd,IAAAA,kBAAkB,CAACc,WAAD,CAAlB;AACAxB,IAAAA,QAAQ,CAAC;AAAEc,MAAAA,IAAI,EAAE,SAAR;AAAmBC,MAAAA,OAAO,EAAES;AAA5B,KAAD,CAAR;AACAjI,IAAAA,MAAM,CAACkI,IAAP,YAAgBD,WAAhB;AACD,GAJD;;AAMA,SACE;AAAK,IAAA,SAAS,EAAEnB,OAAO,CAACvE,IAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAEE,MAAC,MAAD;AACE,IAAA,QAAQ,EAAC,OADX;AAEE,IAAA,SAAS,EAAExB,IAAI,CAAC+F,OAAO,CAACrE,MAAT,sBACZqE,OAAO,CAAC3D,WADI,EACU6D,IADV,EAFjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAME,MAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,UAAD;AACE,IAAA,KAAK,EAAC,SADR;AAEE,IAAA,OAAO,EAAEc,gBAFX;AAGE,IAAA,IAAI,EAAC,OAHP;AAIE,IAAA,SAAS,EAAE/G,IAAI,CAAC+F,OAAO,CAACpD,UAAT,sBACZoD,OAAO,CAAClD,IADI,EACGoD,IADH,EAJjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAQE,MAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IARF,CADF,EAYE,MAAC,IAAD;AACE,IAAA,IAAI,EAAC,GADP;AAEE,IAAA,SAAS,EAAEF,OAAO,CAACqB,KAFrB;AAGE,IAAA,OAAO,EAAElG,MAAM,CAACmG,MAAP,CAAc,OAAd,CAHX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAKE;AACE,IAAA,GAAG,EAAC,gCADN;AAEE,IAAA,GAAG,EAAC,wBAFN;AAGE,IAAA,KAAK,EAAE;AAAE5E,MAAAA,SAAS,EAAE;AAAb,KAHT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IALF,CAZF,EAsCE,MAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAtCF,CANF,CAFF,EAkDE,MAAC,MAAD;AACE,IAAA,OAAO,EAAC,WADV;AAEE,IAAA,SAAS,EAAEzC,IAAI,CAAC+F,OAAO,CAACnE,MAAT,wCACZmE,OAAO,CAAC/C,UADI,EACSiD,IADT,2BAEZF,OAAO,CAAC9C,WAFI,EAEU,CAACgD,IAFX,WAFjB;AAME,IAAA,OAAO,EAAE;AACPqB,MAAAA,KAAK,EAAEtH,IAAI,uCACR+F,OAAO,CAAC/C,UADA,EACaiD,IADb,2BAERF,OAAO,CAAC9C,WAFA,EAEc,CAACgD,IAFf;AADJ,KANX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAaE;AAAK,IAAA,SAAS,EAAEF,OAAO,CAAC1C,OAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,UAAD;AAAY,IAAA,OAAO,EAAE2D,iBAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,eAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF,CAbF,EAkBE,MAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAlBF,EAmBE,MAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,QAAD;AACE,IAAA,MAAM,MADR;AAEE,IAAA,QAAQ,EAAEX,gBAFZ;AAGE,IAAA,GAAG,EAAE,QAHP;AAIE,IAAA,SAAS,EAAEN,OAAO,CAACvD,SAJrB;AAKE,IAAA,OAAO,EAAE;AAAA,aAAMyE,aAAa,CAAC,QAAD,CAAnB;AAAA,KALX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAOE,MAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,sBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CAPF,EAUE,MAAC,YAAD;AAAc,IAAA,OAAO,EAAEhG,aAAa,CAAC,aAAD,EAAgB0E,IAAhB,CAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAVF,CADF,EAaE,MAAC,QAAD;AACE,IAAA,MAAM,MADR;AAEE,IAAA,QAAQ,EAAEW,kBAFZ;AAGE,IAAA,GAAG,EAAE,UAHP;AAIE,IAAA,OAAO,EAAE;AAAA,aAAMW,aAAa,CAAC,UAAD,CAAnB;AAAA,KAJX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAME,MAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,cAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CANF,EASE,MAAC,YAAD;AAAc,IAAA,OAAO,EAAEhG,aAAa,CAAC,eAAD,EAAkB0E,IAAlB,CAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IATF,CAbF,CAnBF,CAlDF,CADF;AAkGD,CA5JD;;GAAMF,Y;UAQYnE,S,EACF1B,Q;;;KATV6F,Y;AA8JN,eAAevG,OAAO,CAAC,UAAAqI,KAAK;AAAA,SAAIA,KAAJ;AAAA,CAAN,CAAP,CAAwB9B,YAAxB,CAAf","sourcesContent":["import React, { useEffect } from 'react'\nimport axiosClient from '../src/axiosClient'\nimport Router from 'next/router'\nimport { connect } from 'react-redux'\nimport AppBar from '@material-ui/core/AppBar'\nimport Button from '@material-ui/core/Button'\nimport Toolbar from '@material-ui/core/Toolbar'\nimport Badge from '@material-ui/core/Badge'\nimport IconButton from '@material-ui/core/IconButton'\nimport InputBase from '@material-ui/core/InputBase'\nimport Typography from '@material-ui/core/Typography'\nimport { fade, makeStyles, useTheme } from '@material-ui/core/styles'\nimport MenuIcon from '@material-ui/icons/Menu'\nimport SearchIcon from '@material-ui/icons/Search'\nimport ShoppingBasketIcon from '@material-ui/icons/ShoppingBasket'\nimport clsx from 'clsx'\nimport Drawer from '@material-ui/core/Drawer'\nimport List from '@material-ui/core/List'\nimport CssBaseline from '@material-ui/core/CssBaseline'\nimport Divider from '@material-ui/core/Divider'\nimport ChevronLeftIcon from '@material-ui/icons/ChevronLeft'\nimport ChevronRightIcon from '@material-ui/icons/ChevronRight'\nimport ListItem from '@material-ui/core/ListItem'\nimport ListItemIcon from '@material-ui/core/ListItemIcon'\nimport ListItemText from '@material-ui/core/ListItemText'\nimport Link from '../src/Link'\nimport StorefrontIcon from '@material-ui/icons/Storefront'\nimport LocalFloristIcon from '@material-ui/icons/LocalFlorist'\nimport RedeemIcon from '@material-ui/icons/Redeem'\nimport PersonIcon from '@material-ui/icons/Person'\nimport LangSwitcher, { Lang, getLangString } from './Lang'\nimport cookie from 'js-cookie'\nimport AssignmentTurnedInIcon from '@material-ui/icons/AssignmentTurnedIn'\nimport LocalOfferIcon from '@material-ui/icons/LocalOffer'\n\nconst drawerWidth = 240\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    display: 'flex'\n  },\n  appBar: {\n    zIndex: theme.zIndex.drawer + 1,\n    transition: theme.transitions.create(['width', 'margin'], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen\n    })\n  },\n  appBarShift: {\n    marginLeft: drawerWidth,\n    width: `calc(100% - ${drawerWidth}px)`,\n    transition: theme.transitions.create(['width', 'margin'], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.enteringScreen\n    })\n  },\n  topButton: {\n    marginTop: theme.spacing(6)\n  },\n  menuButton: {\n    marginRight: 36\n  },\n  hide: {\n    display: 'none'\n  },\n  drawer: {\n    width: drawerWidth,\n    flexShrink: 0,\n    whiteSpace: 'nowrap'\n  },\n  drawerOpen: {\n    width: drawerWidth,\n    transition: theme.transitions.create('width', {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.enteringScreen\n    })\n  },\n  drawerClose: {\n    transition: theme.transitions.create('width', {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen\n    }),\n    overflowX: 'hidden',\n    width: theme.spacing(7) + 1,\n    [theme.breakpoints.up('sm')]: {\n      width: theme.spacing(9) + 1\n    }\n  },\n  toolbar: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'flex-end',\n    padding: theme.spacing(0, 1),\n    // necessary for content to be below app bar\n    ...theme.mixins.toolbar\n  },\n  content: {\n    flexGrow: 1,\n    padding: theme.spacing(3)\n  },\n  menuButton: {\n    marginRight: theme.spacing(2)\n  },\n  title: {\n    flexGrow: 1,\n    [theme.breakpoints.up('sm')]: {\n      display: 'block'\n    }\n  },\n  search: {\n    position: 'relative',\n    borderRadius: theme.shape.borderRadius,\n    backgroundColor: fade(theme.palette.common.white, 0.15),\n    '&:hover': {\n      backgroundColor: fade(theme.palette.common.white, 0.25)\n    },\n    marginLeft: 0,\n    width: '100%',\n    [theme.breakpoints.up('sm')]: {\n      marginLeft: theme.spacing(1),\n      width: 'auto'\n    }\n  },\n  searchIcon: {\n    padding: theme.spacing(0, 2),\n    height: '100%',\n    position: 'absolute',\n    pointerEvents: 'none',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  inputRoot: {\n    color: 'inherit'\n  },\n  inputInput: {\n    padding: theme.spacing(1, 1, 1, 0),\n    // vertical padding + font size from searchIcon\n    paddingLeft: `calc(1em + ${theme.spacing(4)}px)`,\n    transition: theme.transitions.create('width'),\n    width: '100%',\n    [theme.breakpoints.up('sm')]: {\n      width: '12ch',\n      '&:focus': {\n        width: '20ch'\n      }\n    }\n  }\n}))\n\nconst fetchSegments = async () => {\n  const response = await axiosClient.get('/bsettings/productSegments')\n  const psegments = await response.data[0].value\n  return psegments\n}\n\nconst fetchVendors = async () => {\n  let bvendors = []\n  const response = await axiosClient.get('/bvendors')\n  const results = await response.data\n  if (results && Array.isArray(results) && results.length > 0) {\n    bvendors = results.sort(function (a, b) {\n      const sortA = a.sortOrder ? a.sortOrder : 100,\n        sortB = b.sortOrder ? b.sortOrder : 100\n      return sortA - sortB\n    })\n  }\n  return bvendors\n}\n\nconst SearchAppBar = ({\n  dispatch,\n  lang,\n  segment,\n  psegments,\n  psegmentsFetched,\n  bvendorsFetched\n}) => {\n  const classes = useStyles()\n  const theme = useTheme()\n  const [open, setOpen] = React.useState(false)\n  const [selectedSegment, setSelectedSegment] = React.useState(segment)\n\n  const ordersIsSelected = selectedSegment === 'orders' ? true : false\n  const productsIsSelected = selectedSegment === 'products' ? true : false\n\n  if (!psegmentsFetched) {\n    fetchSegments().then(psegments =>\n      dispatch({ type: 'PSEGMENTS', payload: psegments })\n    )\n  }\n\n  if (!bvendorsFetched) {\n    fetchVendors().then(bvendors =>\n      dispatch({ type: 'BVENDORS', payload: bvendors })\n    )\n  }\n\n  useEffect(() => {\n    if (psegments && Array.isArray(psegments) && psegments.length) {\n    } else {\n      fetchSegments()\n        .then(response => {\n          const results = response.data[0].value\n          if (results && Array.isArray(results) && results.length > 0) {\n            dispatch({ type: 'PSEGMENTS', payload: results })\n          }\n        })\n        .catch(error => {\n          console.warn(JSON.stringify(error, null, 2))\n        })\n    }\n  }, [])\n\n  const handleDrawerOpen = () => {\n    setOpen(true)\n  }\n\n  const handleDrawerClose = () => {\n    setOpen(false)\n  }\n\n  const selectSegment = segmentName => {\n    setSelectedSegment(segmentName)\n    dispatch({ type: 'SEGMENT', payload: segmentName })\n    Router.push(`/${segmentName}`)\n  }\n\n  return (\n    <div className={classes.root}>\n      <CssBaseline />\n      <AppBar\n        position='fixed'\n        className={clsx(classes.appBar, {\n          [classes.appBarShift]: open\n        })}\n      >\n        <Toolbar>\n          <IconButton\n            color='inherit'\n            onClick={handleDrawerOpen}\n            edge='start'\n            className={clsx(classes.menuButton, {\n              [classes.hide]: open\n            })}\n          >\n            <MenuIcon />\n          </IconButton>\n\n          <Link\n            href='/'\n            className={classes.title}\n            onClick={cookie.remove('token')}\n          >\n            <img\n              src='/images/cutting-logo-small.png'\n              alt='Valley Cutting Systems'\n              style={{ marginTop: 6 }}\n            />\n          </Link>\n          {/*\n          <div className={classes.search}>\n            <div className={classes.searchIcon}>\n              <SearchIcon />\n            </div>\n            <InputBase\n              placeholder={getLangString('common.search', lang)}\n              classes={{\n                root: classes.inputRoot,\n                input: classes.inputInput\n              }}\n              inputProps={{ 'aria-label': 'search' }}\n            />\n          </div>\n          */}\n          <LangSwitcher />\n        </Toolbar>\n      </AppBar>\n\n      <Drawer\n        variant='permanent'\n        className={clsx(classes.drawer, {\n          [classes.drawerOpen]: open,\n          [classes.drawerClose]: !open\n        })}\n        classes={{\n          paper: clsx({\n            [classes.drawerOpen]: open,\n            [classes.drawerClose]: !open\n          })\n        }}\n      >\n        <div className={classes.toolbar}>\n          <IconButton onClick={handleDrawerClose}>\n            <ChevronLeftIcon />\n          </IconButton>\n        </div>\n        <Divider />\n        <List>\n          <ListItem\n            button\n            selected={ordersIsSelected}\n            key={'orders'}\n            className={classes.topButton}\n            onClick={() => selectSegment('orders')}\n          >\n            <ListItemIcon>\n              <AssignmentTurnedInIcon />\n            </ListItemIcon>\n            <ListItemText primary={getLangString('menu.orders', lang)} />\n          </ListItem>\n          <ListItem\n            button\n            selected={productsIsSelected}\n            key={'products'}\n            onClick={() => selectSegment('products')}\n          >\n            <ListItemIcon>\n              <LocalOfferIcon />\n            </ListItemIcon>\n            <ListItemText primary={getLangString('menu.products', lang)} />\n          </ListItem>\n        </List>\n      </Drawer>\n    </div>\n  )\n}\n\nexport default connect(state => state)(SearchAppBar)\n"]},"metadata":{},"sourceType":"module"}