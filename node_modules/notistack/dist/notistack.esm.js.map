{"version":3,"file":"notistack.esm.js","sources":["../src/SnackbarContext.ts","../src/utils/constants.ts","../src/SnackbarContent/SnackbarContent.tsx","../src/SnackbarItem/SnackbarItem.util.ts","../src/utils/createChainedFunction.js","../src/SnackbarItem/SnackbarItem.tsx","../src/SnackbarContainer.tsx","../src/utils/warning.ts","../src/utils/defaultIconVariants.tsx","../src/SnackbarProvider.tsx","../src/utils/getDisplayName.js","../src/withSnackbar.js","../src/useSnackbar.ts"],"sourcesContent":["import React from 'react';\nimport { ProviderContext } from '.';\n\n// @ts-ignore\nexport default React.createContext<ProviderContext>();\n","import { SnackbarClassKey } from '@material-ui/core/Snackbar';\nimport { CloseReason, ContainerClassKey, SnackbarProviderProps } from '../index';\nimport { SnackbarItemProps } from '../SnackbarItem';\nimport { Snack } from '../SnackbarProvider';\n\nexport const allClasses: {\n    mui: Record<SnackbarClassKey, {}>;\n    container: Record<ContainerClassKey, {}>;\n} = {\n    mui: {\n        root: {},\n        anchorOriginTopCenter: {},\n        anchorOriginBottomCenter: {},\n        anchorOriginTopRight: {},\n        anchorOriginBottomRight: {},\n        anchorOriginTopLeft: {},\n        anchorOriginBottomLeft: {},\n    },\n    container: {\n        containerRoot: {},\n        containerAnchorOriginTopCenter: {},\n        containerAnchorOriginBottomCenter: {},\n        containerAnchorOriginTopRight: {},\n        containerAnchorOriginBottomRight: {},\n        containerAnchorOriginTopLeft: {},\n        containerAnchorOriginBottomLeft: {},\n    },\n};\n\nexport const MESSAGES = {\n    NO_PERSIST_ALL: 'WARNING - notistack: Reached maxSnack while all enqueued snackbars have \\'persist\\' flag. Notistack will dismiss the oldest snackbar anyway to allow other ones in the queue to be presented.',\n};\n\nexport const SNACKBAR_INDENTS = {\n    view: { default: 20, dense: 4 },\n    snackbar: { default: 6, dense: 2 },\n};\n\nexport const capitalise = (text: string): string => text.charAt(0).toUpperCase() + text.slice(1);\n\nexport const originKeyExtractor = (anchor: Snack['anchorOrigin']): string => (\n    `${capitalise(anchor.vertical)}${capitalise(anchor.horizontal)}`\n);\n\n/**\n * Omit SnackbarContainer class keys that are not needed for SnackbarItem\n */\nexport const omitContainerKeys = (classes: SnackbarProviderProps['classes']): SnackbarItemProps['classes'] => (\n    // @ts-ignore\n    Object.keys(classes).filter(key => !allClasses.container[key]).reduce((obj, key) => ({ ...obj, [key]: classes[key] }), {})\n);\n\nexport const DEFAULTS = {\n    variant: 'default',\n    autoHideDuration: 5000,\n    anchorOrigin: {\n        vertical: 'bottom',\n        horizontal: 'left',\n    },\n};\n\nconst numberOrNull = (numberish?: number | null) => (\n    typeof numberish === 'number' || numberish === null\n);\n\n// @ts-ignore\nexport const merge = (options, props, defaults) => (name: keyof Snack): any => {\n    if (name === 'autoHideDuration') {\n        if (numberOrNull(options.autoHideDuration)) return options.autoHideDuration;\n        if (numberOrNull(props.autoHideDuration)) return props.autoHideDuration;\n        return DEFAULTS.autoHideDuration;\n    }\n\n    return options[name] || props[name] || defaults[name];\n};\n\nexport const REASONS: { [key: string]: CloseReason } = {\n    CLICKAWAY: 'clickaway',\n    MAXSNACK: 'maxsnack',\n    INSTRUCTED: 'instructed',\n};\n","import React, { forwardRef } from 'react';\nimport clsx from 'clsx';\nimport { createStyles, Theme, withStyles, WithStyles } from '@material-ui/core/styles';\n\nconst styles = (theme: Theme) => createStyles({\n    root: {\n        display: 'flex',\n        flexWrap: 'wrap',\n        flexGrow: 1,\n        [theme.breakpoints.up('sm')]: {\n            flexGrow: 'initial',\n            minWidth: 288,\n        },\n    }\n});\n\nexport interface SnackbarContent extends WithStyles<typeof styles>, React.HTMLAttributes<HTMLDivElement> { }\n\nconst SnackbarContent: React.FC<SnackbarContent> = forwardRef<HTMLDivElement, SnackbarContent>(({ classes, className, ...props }, ref) => (\n    <div ref={ref} className={clsx(classes.root, className)}  {...props} />\n))\n\nexport default withStyles(styles)(SnackbarContent);\n","import clsx from 'clsx';\nimport { SnackbarProps } from '@material-ui/core/Snackbar';\nimport { allClasses } from '../utils/constants';\nimport { SnackbarItemProps } from './SnackbarItem';\nimport { Snack } from '../SnackbarProvider';\n\nconst DIRECTION = {\n    right: 'left',\n    left: 'right',\n    bottom: 'up',\n    top: 'down',\n} as const;\nexport type DirectionType = typeof DIRECTION[keyof typeof DIRECTION]\n\nexport const getTransitionDirection = (anchorOrigin: Snack['anchorOrigin']): DirectionType => {\n    if (anchorOrigin.horizontal !== 'center') {\n        return DIRECTION[anchorOrigin.horizontal];\n    }\n    return DIRECTION[anchorOrigin.vertical];\n};\n\n/**\n * Omit all class keys except those allowed in material-ui snackbar\n */\nexport const omitNonMuiKeys: (classes: { wrappedRoot: string } & SnackbarProps['classes']) => SnackbarProps['classes'] = (classes) => {\n    const snackbarMuiClasses = Object.keys(classes)\n        // @ts-ignore\n        .filter(key => allClasses.mui[key] !== undefined).reduce((obj, key) => ({ ...obj, [key]: classes[key] }), {});\n\n    return {\n        ...snackbarMuiClasses,\n        root: clsx(classes.root, classes.wrappedRoot),\n    };\n};\n\n/**\n * Omit all class keys except what we need for collapse component\n */\nexport const omitNonCollapseKeys = (classes: SnackbarItemProps['classes'], dense: SnackbarItemProps['dense']): { container: string; wrapper: string } => ({\n    container: classes.collapseContainer,\n    wrapper: clsx(classes.collapseWrapper, { [classes.collapseWrapperDense]: dense }),\n});\n","/**\n * @link https://github.com/mui-org/material-ui/blob/master/packages/material-ui/src/utils/createChainedFunction.js\n */\nexport default function createChainedFunction(funcs, extraArg) {\n    return funcs.reduce((acc, func) => {\n        if (func == null) return acc;\n\n        if (process.env.NODE_ENV !== 'production') {\n            if (typeof func !== 'function') {\n                // eslint-disable-next-line no-console\n                console.error('Invalid Argument Type. must only provide functions, undefined, or null.');\n            }\n        }\n\n        return function chainedFunction(...args) {\n            const argums = [...args];\n            if (extraArg && argums.indexOf(extraArg) === -1) {\n                argums.push(extraArg);\n            }\n            acc.apply(this, argums);\n            func.apply(this, argums);\n        };\n    }, () => { });\n}\n","import React, { useState, useEffect, useRef } from 'react';\nimport clsx from 'clsx';\nimport { withStyles, WithStyles, createStyles, Theme, emphasize } from '@material-ui/core/styles';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport Slide from '@material-ui/core/Slide';\nimport Collapse from '@material-ui/core/Collapse';\nimport SnackbarContent from '../SnackbarContent';\nimport { getTransitionDirection, omitNonMuiKeys, omitNonCollapseKeys } from './SnackbarItem.util';\nimport { capitalise, allClasses, REASONS, SNACKBAR_INDENTS } from '../utils/constants';\nimport { SnackbarProviderProps, OptionalBy, SharedProps, RequiredBy, IconVariant, VariantClassKey, TransitionHandlerProps } from '../index';\nimport { Snack } from '../SnackbarProvider';\nimport createChainedFunction from '../utils/createChainedFunction';\n\n// eslint-disable-next-line @typescript-eslint/explicit-function-return-type\nconst styles = (theme: Theme) => {\n    const backgroundColor = emphasize(theme.palette.background.default, theme.palette.type === 'light' ? 0.8 : 0.98);\n    return createStyles({\n        ...allClasses.mui,\n        lessPadding: {\n            paddingLeft: 8 * 2.5,\n        },\n        variantSuccess: {\n            backgroundColor: '#43a047 !important', // green\n            color: '#fff !important',\n        },\n        variantError: {\n            backgroundColor: '#d32f2f !important', // dark red\n            color: '#fff !important',\n        },\n        variantInfo: {\n            backgroundColor: '#2196f3 !important', // nice blue\n            color: '#fff !important',\n        },\n        variantWarning: {\n            backgroundColor: '#ff9800 !important', // amber\n            color: '#fff !important',\n        },\n        contentRoot: {\n            ...theme.typography.body2,\n            backgroundColor,\n            color: theme.palette.getContrastText(backgroundColor),\n            alignItems: 'center',\n            padding: '6px 16px',\n            borderRadius: '4px',\n            boxShadow: '0px 3px 5px -1px rgba(0,0,0,0.2),0px 6px 10px 0px rgba(0,0,0,0.14),0px 1px 18px 0px rgba(0,0,0,0.12)',\n        },\n        message: {\n            display: 'flex',\n            alignItems: 'center',\n            padding: '8px 0',\n        },\n        action: {\n            display: 'flex',\n            alignItems: 'center',\n            marginLeft: 'auto',\n            paddingLeft: 16,\n            marginRight: -8,\n        },\n        wrappedRoot: {\n            position: 'relative',\n            transform: 'translateX(0)',\n            top: 0,\n            right: 0,\n            bottom: 0,\n            left: 0,\n        },\n        collapseContainer: {\n            [theme.breakpoints.down('xs')]: {\n                paddingLeft: theme.spacing(1),\n                paddingRight: theme.spacing(1),\n            },\n        },\n        collapseWrapper: {\n            transition: theme.transitions.create(['margin-bottom'], { easing: 'ease' }),\n            marginTop: SNACKBAR_INDENTS.snackbar.default,\n            marginBottom: SNACKBAR_INDENTS.snackbar.default,\n        },\n        collapseWrapperDense: {\n            marginTop: SNACKBAR_INDENTS.snackbar.dense,\n            marginBottom: SNACKBAR_INDENTS.snackbar.dense,\n        },\n    });\n}\n\n\ntype RemovedProps =\n    /** the one received from Provider is processed and passed to snack prop */\n    | 'variant'\n    /** same as above */\n    | 'anchorOrigin'\n    /** the one recevied from enqueueSnackbar is processed in provider, therefore shouldn't be passed to SnackbarItem */\n    | 'preventDuplicate'\n\n\nexport interface SnackbarItemProps extends WithStyles<typeof styles>, RequiredBy<Omit<SharedProps, RemovedProps>, 'onEntered' | 'onExited' | 'onClose'> {\n    snack: Snack;\n    dense: SnackbarProviderProps['dense'];\n    iconVariant: OptionalBy<IconVariant, 'default'>;\n    hideIconVariant: SnackbarProviderProps['hideIconVariant'];\n}\n\nconst SnackbarItem: React.FC<SnackbarItemProps> = ({ classes, ...props }) => {\n    const timeout = useRef<ReturnType<typeof setTimeout>>();\n    const [collapsed, setCollapsed] = useState(true);\n\n    useEffect(() => (): void => {\n        if (timeout.current) {\n            clearTimeout(timeout.current);\n        }\n    }, []);\n\n    const handleClose = createChainedFunction([props.snack.onClose, props.onClose], props.snack.key);\n\n    const handleEntered: TransitionHandlerProps['onEntered'] = () => {\n        if (props.snack.requestClose) {\n            handleClose(null, REASONS.INSTRCUTED);\n        }\n    };\n\n    const handleExitedScreen = (): void => {\n        timeout.current = setTimeout(() => {\n            setCollapsed(!collapsed);\n        }, 125);\n    };\n\n    const callbacks: { [key in keyof TransitionHandlerProps]?: any } =\n        ['onEnter', 'onEntering', 'onEntered', 'onExit', 'onExiting', 'onExited'].reduce((acc, cbName) => ({\n            ...acc,\n            // @ts-ignore\n            [cbName]: createChainedFunction([props.snack[cbName], props[cbName]], props.snack.key),\n        }), {});\n\n    const {\n        action,\n        content,\n        ariaAttributes: otherAriaAttributes,\n        className: otherClassName,\n        hideIconVariant,\n        iconVariant,\n        snack,\n        dense,\n        TransitionComponent = Slide,\n        TransitionProps: otherTransitionProps = {},\n        ...other\n    } = props;\n\n    const {\n        key,\n        persist,\n        entered,\n        requestClose,\n        className: singleClassName,\n        variant,\n        content: singleContent,\n        action: singleAction,\n        ariaAttributes: singleAriaAttributes,\n        anchorOrigin,\n        TransitionProps: singleTransitionProps = {},\n        ...singleSnackProps\n    } = snack;\n\n    const icon = iconVariant[variant];\n\n    const ariaAttributes = {\n        'aria-describedby': 'client-snackbar',\n        ...otherAriaAttributes,\n        ...singleAriaAttributes,\n    };\n\n    const transitionProps = {\n        direction: getTransitionDirection(anchorOrigin),\n        ...otherTransitionProps,\n        ...singleTransitionProps,\n        onExited: handleExitedScreen,\n    };\n\n    let finalAction = singleAction || action;\n    if (typeof finalAction === 'function') {\n        // @ts-ignore\n        finalAction = finalAction(key);\n    }\n\n    let snackContent = singleContent || content;\n    if (snackContent && typeof snackContent === 'function') {\n        snackContent = snackContent(key, snack.message);\n    }\n\n    return (\n        <Collapse\n            unmountOnExit\n            timeout={175}\n            in={collapsed}\n            classes={omitNonCollapseKeys(classes, dense)}\n            onExited={callbacks.onExited}\n        >\n            <Snackbar\n                // @ts-ignore\n                TransitionComponent={TransitionComponent}\n                {...other}\n                {...singleSnackProps}\n                open={snack.open}\n                anchorOrigin={anchorOrigin}\n                TransitionProps={transitionProps}\n                classes={omitNonMuiKeys(classes)}\n                onClose={handleClose}\n                onExit={callbacks.onExit}\n                onExiting={callbacks.onExiting}\n                onEnter={callbacks.onEnter}\n                onEntering={callbacks.onEntering}\n                // order matters. first callbacks.onEntered to set entered: true,\n                // then handleEntered to check if there's a request for closing\n                onEntered={createChainedFunction([callbacks.onEntered, handleEntered])}\n            >\n                {/* @ts-ignore */}\n                {snackContent || (\n                    <SnackbarContent\n                        {...ariaAttributes}\n                        role=\"alert\"\n                        className={clsx(\n                            classes.contentRoot,\n                            { [classes.lessPadding]: !hideIconVariant && icon },\n                            classes[`variant${capitalise(variant)}` as VariantClassKey],\n                            otherClassName,\n                            singleClassName\n                        )}\n                    >\n                        <div id={ariaAttributes['aria-describedby']} className={classes.message}>\n                            {!hideIconVariant ? icon : null}\n                            {snack.message}\n                        </div>\n                        {finalAction && (\n                            <div className={classes.action}>{finalAction}</div>\n                        )}\n                    </SnackbarContent>\n                )}\n            </Snackbar>\n        </Collapse>\n    );\n};\n\nexport default withStyles(styles)(SnackbarItem);\n","import React from 'react';\nimport clsx from 'clsx';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { SNACKBAR_INDENTS } from './utils/constants';\nimport { SnackbarProviderProps } from '.';\n\nconst useStyle = makeStyles(theme => ({\n    root: {\n        boxSizing: 'border-box',\n        display: 'flex',\n        maxHeight: '100%',\n        maxWidth: '100%',\n        position: 'fixed',\n        flexDirection: 'column',\n        zIndex: theme.zIndex.snackbar,\n        height: 'auto',\n        width: 'auto',\n        minWidth: 288,\n        transition: theme.transitions.create(['top', 'right', 'bottom', 'left'], { easing: 'ease' }),\n        [theme.breakpoints.down('xs')]: {\n            left: '0 !important',\n            right: '0 !important',\n            width: '100%',\n        },\n    },\n    reverseColumns: { flexDirection: 'column-reverse' },\n\n    top: { top: SNACKBAR_INDENTS.view.default - SNACKBAR_INDENTS.snackbar.default },\n    topDense: { top: SNACKBAR_INDENTS.view.dense - SNACKBAR_INDENTS.snackbar.dense },\n\n    bottom: { bottom: SNACKBAR_INDENTS.view.default - SNACKBAR_INDENTS.snackbar.default },\n    bottomDense: { bottom: SNACKBAR_INDENTS.view.dense - SNACKBAR_INDENTS.snackbar.dense },\n\n    left: { left: SNACKBAR_INDENTS.view.default },\n    leftDense: { left: SNACKBAR_INDENTS.view.dense },\n\n    right: { right: SNACKBAR_INDENTS.view.default },\n    rightDense: { right: SNACKBAR_INDENTS.view.dense },\n\n    center: {\n        left: '50%',\n        transform: 'translateX(-50%)',\n        [theme.breakpoints.down('xs')]: {\n            transform: 'translateX(0)',\n        },\n    },\n}));\n\n\ninterface SnackbarContainerProps {\n    children: JSX.Element | JSX.Element[];\n    className?: string;\n    dense: SnackbarProviderProps['dense'];\n    anchorOrigin: NonNullable<SnackbarProviderProps['anchorOrigin']>;\n}\n\nconst SnackbarContainer: React.FC<SnackbarContainerProps> = (props) => {\n    const classes = useStyle();\n    const { className, anchorOrigin, dense, ...other } = props;\n\n    const combinedClassname = clsx(\n        classes.root,\n        classes[anchorOrigin.vertical],\n        classes[anchorOrigin.horizontal],\n        // @ts-ignore\n        classes[`${anchorOrigin.vertical}${dense ? 'Dense' : ''}`],\n        // @ts-ignore\n        classes[`${anchorOrigin.horizontal}${dense ? 'Dense' : ''}`],\n        { [classes.reverseColumns]: anchorOrigin.vertical === 'bottom' },\n        className,\n    );\n\n    return (\n        <div className={combinedClassname} {...other} />\n    );\n};\n\nexport default React.memo(SnackbarContainer);\n","/* eslint-disable */\nconst __DEV__ = process.env.NODE_ENV !== 'production';\n\nexport default (message: string) => {\n    if (!__DEV__) return;\n\n    if (typeof console !== 'undefined') {\n        console.error(message);\n    }\n    try {\n        throw new Error(message);\n    } catch (x) { };\n};\n","import React from 'react';\nimport SvgIcon, { SvgIconProps } from '@material-ui/core/SvgIcon';\nimport { IconVariant } from '../index';\n\ntype Icon = (props: SvgIconProps) => JSX.Element;\n\nconst CheckIcon: Icon = props => (\n    <SvgIcon {...props}>\n        <path d=\"M12 2C6.5 2 2 6.5 2 12S6.5 22 12 22 22 17.5 22 12 17.5 2 12 2M10 17L5 12L6.41\n        10.59L10 14.17L17.59 6.58L19 8L10 17Z\" />\n    </SvgIcon>\n);\n\nconst WarningIcon: Icon = props => (\n    <SvgIcon {...props}>\n        <path d=\"M13,14H11V10H13M13,18H11V16H13M1,21H23L12,2L1,21Z\" />\n    </SvgIcon>\n);\n\nconst ErrorIcon: Icon = props => (\n    <SvgIcon {...props}>\n        <path d=\"M12,2C17.53,2 22,6.47 22,12C22,17.53 17.53,22 12,22C6.47,22 2,17.53 2,12C2,\n        6.47 6.47,2 12,2M15.59,7L12,10.59L8.41,7L7,8.41L10.59,12L7,15.59L8.41,17L12,\n        13.41L15.59,17L17,15.59L13.41,12L17,8.41L15.59,7Z\" />\n    </SvgIcon>\n);\n\nconst InfoIcon: Icon = props => (\n    <SvgIcon {...props}>\n        <path d=\"M13,9H11V7H13M13,17H11V11H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,\n        0 22,12A10,10 0 0,0 12,2Z\" />\n    </SvgIcon>\n);\n\nconst iconStyles = {\n    fontSize: 20,\n    marginInlineEnd: 8,\n};\n\nconst defaultIconVariants: Omit<IconVariant, 'default'> = {\n    success: <CheckIcon style={iconStyles} />,\n    warning: <WarningIcon style={iconStyles} />,\n    error: <ErrorIcon style={iconStyles} />,\n    info: <InfoIcon style={iconStyles} />,\n};\n\nexport default defaultIconVariants;\n","import React, { Component } from 'react';\nimport { createPortal } from 'react-dom';\nimport clsx from 'clsx';\nimport SnackbarContext from './SnackbarContext';\nimport { MESSAGES, REASONS, originKeyExtractor, omitContainerKeys, merge, DEFAULTS } from './utils/constants';\nimport SnackbarItem from './SnackbarItem';\nimport SnackbarContainer from './SnackbarContainer';\nimport warning from './utils/warning';\nimport defaultIconVariants from './utils/defaultIconVariants';\nimport { SnackbarProviderProps, ContainerClassKey, SnackbarKey, SnackbarMessage, OptionsObject, RequiredBy, ProviderContext, TransitionHandlerProps } from '.';\nimport createChainedFunction from './utils/createChainedFunction';\n\n\ntype Reducer = (state: State) => State;\ntype SnacksByPosition = { [key: string]: Snack[] };\n\nexport interface Snack extends RequiredBy<OptionsObject, 'key' | 'variant' | 'anchorOrigin'> {\n    message: SnackbarMessage;\n    open: boolean;\n    entered: boolean;\n    requestClose: boolean;\n}\n\ninterface State {\n    snacks: Snack[];\n    queue: Snack[];\n    contextValue: ProviderContext;\n}\n\nclass SnackbarProvider extends Component<SnackbarProviderProps, State> {\n    constructor(props: SnackbarProviderProps) {\n        super(props);\n        this.state = {\n            snacks: [],\n            queue: [], // eslint-disable-line react/no-unused-state\n            contextValue: {\n                enqueueSnackbar: this.enqueueSnackbar,\n                closeSnackbar: this.closeSnackbar,\n            },\n        };\n    }\n\n    get maxSnack(): number {\n        return this.props.maxSnack || 3;\n    }\n\n    /**\n     * Adds a new snackbar to the queue to be presented.\n     * Returns generated or user defined key referencing the new snackbar or null\n     */\n    enqueueSnackbar = (message: SnackbarMessage, { key, preventDuplicate, ...options }: OptionsObject = {}): SnackbarKey => {\n        const hasSpecifiedKey = key || key === 0;\n        const id = hasSpecifiedKey ? (key as SnackbarKey) : new Date().getTime() + Math.random();\n\n        const merger = merge(options, this.props, DEFAULTS);\n        const snack: Snack = {\n            key: id,\n            ...options,\n            message,\n            open: true,\n            entered: false,\n            requestClose: false,\n            variant: merger('variant'),\n            anchorOrigin: merger('anchorOrigin'),\n            autoHideDuration: merger('autoHideDuration'),\n        };\n\n        if (options.persist) {\n            snack.autoHideDuration = undefined;\n        }\n\n        this.setState((state) => {\n            if ((preventDuplicate === undefined && this.props.preventDuplicate) || preventDuplicate) {\n                const compareFunction = (item: Snack): boolean => (\n                    hasSpecifiedKey ? item.key === key : item.message === message\n                );\n\n                const inQueue = state.queue.findIndex(compareFunction) > -1;\n                const inView = state.snacks.findIndex(compareFunction) > -1;\n                if (inQueue || inView) {\n                    return state;\n                }\n            }\n\n            return this.handleDisplaySnack({\n                ...state,\n                queue: [...state.queue, snack],\n            });\n        });\n\n        return id;\n    };\n\n    /**\n     * Reducer: Display snack if there's space for it. Otherwise, immediately\n     * begin dismissing the oldest message to start showing the new one.\n     */\n    handleDisplaySnack: Reducer = (state) => {\n        const { snacks } = state;\n        if (snacks.length >= this.maxSnack) {\n            return this.handleDismissOldest(state);\n        }\n        return this.processQueue(state);\n    };\n\n    /**\n     * Reducer: Display items (notifications) in the queue if there's space for them.\n     */\n    processQueue: Reducer = (state) => {\n        const { queue, snacks } = state;\n        if (queue.length > 0) {\n            return {\n                ...state,\n                snacks: [...snacks, queue[0]],\n                queue: queue.slice(1, queue.length),\n            };\n        }\n        return state;\n    };\n\n    /**\n     * Reducer: Hide oldest snackbar on the screen because there exists a new one which we have to display.\n     * (ignoring the one with 'persist' flag. i.e. explicitly told by user not to get dismissed).\n     *\n     * Note 1: If there is already a message leaving the screen, no new messages are dismissed.\n     * Note 2: If the oldest message has not yet entered the screen, only a request to close the\n     *         snackbar is made. Once it entered the screen, it will be immediately dismissed.\n     */\n    handleDismissOldest: Reducer = (state) => {\n        if (state.snacks.some(item => !item.open || item.requestClose)) {\n            return state;\n        }\n\n        let popped = false;\n        let ignore = false;\n\n        const persistentCount = state.snacks.reduce((acc, current) => (\n            acc + (current.open && current.persist ? 1 : 0)\n        ), 0);\n\n        if (persistentCount === this.maxSnack) {\n            warning(MESSAGES.NO_PERSIST_ALL);\n            ignore = true;\n        }\n\n        const snacks = state.snacks.map((item) => {\n            if (!popped && (!item.persist || ignore)) {\n                popped = true;\n\n                if (!item.entered) {\n                    return {\n                        ...item,\n                        requestClose: true,\n                    };\n                }\n\n                if (item.onClose) item.onClose(null, REASONS.MAXSNACK, item.key);\n                if (this.props.onClose) this.props.onClose(null, REASONS.MAXSNACK, item.key);\n\n                return {\n                    ...item,\n                    open: false,\n                };\n            }\n\n            return { ...item };\n        });\n\n        return { ...state, snacks };\n    };\n\n    /**\n     * Set the entered state of the snackbar with the given key.\n     */\n    handleEnteredSnack: TransitionHandlerProps['onEntered'] = (node, isAppearing, key) => {\n        if (!key) {\n            throw new Error('handleEnteredSnack Cannot be called with undefined key');\n        }\n\n        this.setState(({ snacks }) => ({\n            snacks: snacks.map(item => (\n                item.key === key ? { ...item, entered: true } : { ...item }\n            )),\n        }));\n    }\n\n    /**\n     * Hide a snackbar after its timeout.\n     */\n    handleCloseSnack: TransitionHandlerProps['onClose'] = (event, reason, key) => {\n        if (this.props.onClose) {\n            this.props.onClose(event, reason, key);\n        }\n\n        if (reason === REASONS.CLICKAWAY) return;\n        const shouldCloseAll = key === undefined;\n\n        this.setState(({ snacks, queue }) => ({\n            snacks: snacks.map((item) => {\n                if (!shouldCloseAll && item.key !== key) {\n                    return { ...item };\n                }\n\n                return item.entered\n                    ? { ...item, open: false }\n                    : { ...item, requestClose: true };\n            }),\n            queue: queue.filter(item => item.key !== key), // eslint-disable-line react/no-unused-state\n        }));\n    };\n\n    /**\n     * Close snackbar with the given key\n     */\n    closeSnackbar: ProviderContext['closeSnackbar'] = (key) => {\n        // call individual snackbar onClose callback passed through options parameter\n        const toBeClosed = this.state.snacks.find(item => item.key === key);\n        if (key && toBeClosed && toBeClosed.onClose) {\n            toBeClosed.onClose(null, REASONS.INSTRUCTED, key);\n        }\n\n        this.handleCloseSnack(null, REASONS.INSTRUCTED, key);\n    }\n\n    /**\n     * When we set open attribute of a snackbar to false (i.e. after we hide a snackbar),\n     * it leaves the screen and immediately after leaving animation is done, this method\n     * gets called. We remove the hidden snackbar from state and then display notifications\n     * waiting in the queue (if any). If after this process the queue is not empty, the\n     * oldest message is dismissed.\n     */\n    // @ts-ignore\n    handleExitedSnack: TransitionHandlerProps['onExited'] = (event, key1, key2) => {\n        const key = key1 || key2;\n        if (!key) {\n            throw new Error('handleExitedSnack Cannot be called with undefined key');\n        }\n\n        this.setState((state) => {\n            const newState = this.processQueue({\n                ...state,\n                snacks: state.snacks.filter(item => item.key !== key),\n            });\n\n            if (newState.queue.length === 0) {\n                return newState;\n            }\n\n            return this.handleDismissOldest(newState);\n        });\n    };\n\n    render(): JSX.Element {\n        const { contextValue } = this.state;\n        const {\n            variant,\n            maxSnack,\n            anchorOrigin,\n            preventDuplicate,\n            domRoot,\n            children,\n            classes = {},\n            dense = false,\n            hideIconVariant = false,\n            ...props\n        } = this.props;\n\n        const categ = this.state.snacks.reduce<SnacksByPosition>((acc, current) => {\n            const category = originKeyExtractor(current.anchorOrigin);\n            const existingOfCategory = acc[category] || [];\n            return {\n                ...acc,\n                [category]: [...existingOfCategory, current],\n            };\n        }, {});\n\n        const iconVariant = {\n            ...defaultIconVariants,\n            ...this.props.iconVariant,\n        };\n\n        const snackbars = Object.keys(categ).map((origin) => {\n            const snacks = categ[origin];\n            return (\n                <SnackbarContainer\n                    key={origin}\n                    dense={dense}\n                    anchorOrigin={snacks[0].anchorOrigin}\n                    className={clsx(\n                        classes.containerRoot,\n                        classes[`containerAnchorOrigin${origin}` as ContainerClassKey],\n                    )}\n                >\n                    {snacks.map(snack => (\n                        <SnackbarItem\n                            {...props}\n                            key={snack.key}\n                            dense={dense}\n                            snack={snack}\n                            hideIconVariant={hideIconVariant}\n                            iconVariant={iconVariant}\n                            classes={omitContainerKeys(classes)}\n                            onClose={this.handleCloseSnack}\n                            onExited={createChainedFunction([this.handleExitedSnack, this.props.onExited])}\n                            onEntered={createChainedFunction([this.handleEnteredSnack, this.props.onEntered])}\n                        />\n                    ))}\n                </SnackbarContainer>\n            );\n        });\n\n        return (\n            <SnackbarContext.Provider value={contextValue}>\n                {children}\n                {domRoot ? createPortal(snackbars, domRoot) : snackbars}\n            </SnackbarContext.Provider>\n        );\n    }\n}\n\nexport default SnackbarProvider;\n","// https://github.com/JamesMGreene/Function.name/blob/58b314d4a983110c3682f1228f845d39ccca1817/Function.name.js#L3\nconst fnNameMatchRegex = /^\\s*function(?:\\s|\\s*\\/\\*.*\\*\\/\\s*)+([^(\\s/]*)\\s*/;\nconst getFunctionName = (fn) => {\n    const match = `${fn}`.match(fnNameMatchRegex);\n    const name = match && match[1];\n    return name || '';\n};\n\n/**\n * @param {function} Component\n * @param {string} fallback\n * @returns {string | undefined}\n */\nconst getFunctionComponentName = (Component, fallback = '') => (\n    Component.displayName || Component.name || getFunctionName(Component) || fallback\n);\n\nconst getWrappedName = (outerType, innerType, wrapperName) => {\n    const functionName = getFunctionComponentName(innerType);\n    return (\n        outerType.displayName || (functionName !== '' ? `${wrapperName}(${functionName})` : wrapperName)\n    );\n};\n\n/** \n * From react-is\n * @link https://github.com/facebook/react/blob/master/packages/shared/ReactSymbols.js\n */\nconst ForwardRef = () => {\n    const symbolFor = typeof Symbol === 'function' && Symbol.for;\n    return symbolFor ? symbolFor('react.forward_ref') : 0xead0\n}\n\n/**\n * https://github.com/facebook/react/blob/769b1f270e1251d9dbdce0fcbd9e92e502d059b8/packages/shared/getComponentName.js\n *\n * @param {React.ReactType} Component\n * @returns {string | undefined}\n */\nexport default (Component) => {\n    if (Component == null) {\n        return undefined;\n    }\n\n    if (typeof Component === 'string') {\n        return Component;\n    }\n\n    if (typeof Component === 'function') {\n        return getFunctionComponentName(Component, 'Component');\n    }\n\n    if (typeof Component === 'object') {\n        switch (Component.$$typeof) {\n            case ForwardRef():\n                return getWrappedName(Component, Component.render, 'ForwardRef');\n            default:\n                return undefined;\n        }\n    }\n\n    return undefined;\n};\n","import React from 'react';\nimport hoistNonReactStatics from 'hoist-non-react-statics';\nimport getDisplayName from './utils/getDisplayName';\nimport SnackbarContext from './SnackbarContext';\n\nconst withSnackbar = (Component) => {\n    const WrappedComponent = React.forwardRef((props, ref) => (\n        <SnackbarContext.Consumer>\n            {context => (\n                <Component\n                    {...props}\n                    ref={ref}\n                    enqueueSnackbar={context.enqueueSnackbar}\n                    closeSnackbar={context.closeSnackbar}\n                />\n            )}\n        </SnackbarContext.Consumer>\n    ));\n\n    if (process.env.NODE_ENV !== 'production') {\n        WrappedComponent.displayName = `WithSnackbar(${getDisplayName(Component)})`;\n    }\n\n    hoistNonReactStatics(WrappedComponent, Component);\n\n    return WrappedComponent;\n};\n\nexport default withSnackbar;\n","import { useContext } from 'react';\nimport SnackbarContext from './SnackbarContext';\nimport { ProviderContext } from '.';\n\nexport default (): ProviderContext => useContext(SnackbarContext);\n"],"names":["React","createContext","allClasses","mui","root","anchorOriginTopCenter","anchorOriginBottomCenter","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft","container","containerRoot","containerAnchorOriginTopCenter","containerAnchorOriginBottomCenter","containerAnchorOriginTopRight","containerAnchorOriginBottomRight","containerAnchorOriginTopLeft","containerAnchorOriginBottomLeft","MESSAGES","NO_PERSIST_ALL","SNACKBAR_INDENTS","view","dense","snackbar","capitalise","text","charAt","toUpperCase","slice","originKeyExtractor","anchor","vertical","horizontal","omitContainerKeys","classes","Object","keys","filter","key","reduce","obj","DEFAULTS","variant","autoHideDuration","anchorOrigin","numberOrNull","numberish","merge","options","props","defaults","name","REASONS","CLICKAWAY","MAXSNACK","INSTRUCTED","styles","theme","createStyles","display","flexWrap","flexGrow","breakpoints","up","minWidth","SnackbarContent","forwardRef","ref","className","clsx","withStyles","DIRECTION","right","left","bottom","top","getTransitionDirection","omitNonMuiKeys","snackbarMuiClasses","undefined","wrappedRoot","omitNonCollapseKeys","collapseContainer","wrapper","collapseWrapper","collapseWrapperDense","createChainedFunction","funcs","extraArg","acc","func","process","env","NODE_ENV","console","error","chainedFunction","args","argums","indexOf","push","apply","backgroundColor","emphasize","palette","background","type","lessPadding","paddingLeft","variantSuccess","color","variantError","variantInfo","variantWarning","contentRoot","typography","body2","getContrastText","alignItems","padding","borderRadius","boxShadow","message","action","marginLeft","marginRight","position","transform","down","spacing","paddingRight","transition","transitions","create","easing","marginTop","marginBottom","SnackbarItem","timeout","useRef","useState","collapsed","setCollapsed","useEffect","current","clearTimeout","handleClose","snack","onClose","handleEntered","requestClose","INSTRCUTED","handleExitedScreen","setTimeout","callbacks","cbName","content","otherAriaAttributes","ariaAttributes","otherClassName","hideIconVariant","iconVariant","TransitionComponent","Slide","TransitionProps","otherTransitionProps","other","persist","singleClassName","singleContent","singleAction","singleAriaAttributes","singleTransitionProps","singleSnackProps","icon","transitionProps","direction","onExited","finalAction","snackContent","Collapse","unmountOnExit","Snackbar","open","onExit","onExiting","onEnter","onEntering","onEntered","role","id","useStyle","makeStyles","boxSizing","maxHeight","maxWidth","flexDirection","zIndex","height","width","reverseColumns","topDense","bottomDense","leftDense","rightDense","center","SnackbarContainer","combinedClassname","memo","__DEV__","Error","x","CheckIcon","SvgIcon","d","WarningIcon","ErrorIcon","InfoIcon","iconStyles","fontSize","marginInlineEnd","defaultIconVariants","success","style","warning","info","SnackbarProvider","preventDuplicate","hasSpecifiedKey","Date","getTime","Math","random","merger","entered","setState","state","compareFunction","item","inQueue","queue","findIndex","inView","snacks","handleDisplaySnack","length","maxSnack","handleDismissOldest","processQueue","some","popped","ignore","persistentCount","map","node","isAppearing","event","reason","shouldCloseAll","toBeClosed","find","handleCloseSnack","key1","key2","newState","contextValue","enqueueSnackbar","closeSnackbar","render","domRoot","children","categ","category","existingOfCategory","snackbars","origin","handleExitedSnack","handleEnteredSnack","SnackbarContext","Provider","value","createPortal","Component","fnNameMatchRegex","getFunctionName","fn","match","getFunctionComponentName","fallback","displayName","getWrappedName","outerType","innerType","wrapperName","functionName","ForwardRef","symbolFor","Symbol","$$typeof","withSnackbar","WrappedComponent","context","getDisplayName","hoistNonReactStatics","useContext"],"mappings":"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"}